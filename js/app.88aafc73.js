(function(t){function e(e){for(var o,i,r=e[0],c=e[1],l=e[2],d=0,f=[];d<r.length;d++)i=r[d],s[i]&&f.push(s[i][0]),s[i]=0;for(o in c)Object.prototype.hasOwnProperty.call(c,o)&&(t[o]=c[o]);u&&u(e);while(f.length)f.shift()();return a.push.apply(a,l||[]),n()}function n(){for(var t,e=0;e<a.length;e++){for(var n=a[e],o=!0,r=1;r<n.length;r++){var c=n[r];0!==s[c]&&(o=!1)}o&&(a.splice(e--,1),t=i(i.s=n[0]))}return t}var o={},s={app:0},a=[];function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}i.m=t,i.c=o,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,e){if(1&e&&(t=i(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(i.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var o in t)i.d(n,o,function(e){return t[e]}.bind(null,o));return n},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="/selectivo-moni-notas/";var r=window["webpackJsonp"]=window["webpackJsonp"]||[],c=r.push.bind(r);r.push=e,r=r.slice();for(var l=0;l<r.length;l++)e(r[l]);var u=c;a.push([0,"chunk-vendors"]),n()})({0:function(t,e,n){t.exports=n("56d7")},"56d7":function(t,e,n){"use strict";n.r(e);n("cadf"),n("551c"),n("f751"),n("097d");var o=n("2b0e"),s=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("nav",[n("div",{staticClass:"nav-wrapper"},[n("div",{staticClass:"row"},[t._m(0),n("div",{staticClass:"col m1"},[t.isUserLoggedIn?n("button",{on:{click:t.logout}},[t._v("Logout")]):t._e()])])])]),n("div",{attrs:{id:"main"}},[n("router-link",{attrs:{to:"/"}})],1),n("router-view")],1)},a=[function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"col m11"},[n("a",{staticClass:"brand-logo",attrs:{href:"#"}},[t._v("Logo")])])}],i=n("8aa5"),r=n.n(i),c=(n("ea7b"),{name:"App",data:function(){return{isUserLoggedIn:!1}},methods:{logout:function(){r.a.auth().signOut()}},beforeCreate:function(){var t=this;r.a.auth().onAuthStateChanged(function(e){t.isUserLoggedIn=!!e})}}),l=c,u=(n("5c0b"),n("2877")),d=Object(u["a"])(l,s,a,!1,null,null,null),f=d.exports,p=n("8c4f"),h=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container home"},[t.isUserLoggedIn?t._e():n("login"),t.isUserLoggedIn?n("notes"):t._e()],1)},v=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"container"},[n("div",{staticClass:"row"},[n("form",{staticClass:"col s12",on:{submit:function(e){return e.preventDefault(),t.sendForm(e)}}},[n("h3",[t._v(t._s(t.currentStateText))]),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.email,expression:"form.email"}],staticClass:"validate",attrs:{id:"email",type:"email",required:""},domProps:{value:t.form.email},on:{input:function(e){e.target.composing||t.$set(t.form,"email",e.target.value)}}}),n("label",{attrs:{for:"email"}},[t._v("Email")])])]),n("div",{staticClass:"row"},[n("div",{staticClass:"input-field col s12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.form.password,expression:"form.password"}],staticClass:"validate",attrs:{id:"password",type:"password",required:""},domProps:{value:t.form.password},on:{input:function(e){e.target.composing||t.$set(t.form,"password",e.target.value)}}}),n("label",{attrs:{for:"password"}},[t._v("Password")])])]),n("button",{staticClass:"waves-effect waves-light btn"},[n("i",{staticClass:"material-icons right"},[t._v("cloud")]),t._v("\n        "+t._s(t.currentStateText)+"\n      ")]),n("div",{staticClass:"row"}),n("div",{staticClass:"row"},[t.showSignUpButton?n("a",{staticClass:"signUp",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.type=1}}},[t._v("Sign Up")]):t._e(),t.showLogInButton?n("a",{staticClass:"login",attrs:{href:"javascript:void(0)"},on:{click:function(e){t.type=0}}},[t._v("Log In")]):t._e()])])])])},g=[],b={name:"Login",components:{},data:function(){return{type:0,form:{email:"",password:""},show:!0,error:null,idToken:null}},computed:{showSignUpButton:function(){return 0==this.type},showLogInButton:function(){return 1===this.type},currentStateText:function(){return 0===this.type?"Log In":"Sign Up"}},methods:{sendForm:function(){0===this.type?this.login():this.signUp()},login:function(){var t=this;r.a.auth().signInWithEmailAndPassword(this.form.email,this.form.password).then(function(){t.$emit("login")}).catch(function(e){t.error=e})},signUp:function(){var t=this;r.a.auth().createUserWithEmailAndPassword(this.form.email,this.form.password).then(function(){t.$emit("login")}).catch(function(t){this.error=t})},getIdToken:function(){var t=this;r.a.auth().currentUser.getIdToken(!1).then(function(e){t.idToken=e}).catch(function(t){this.error=t})}}},w=b,C=Object(u["a"])(w,m,g,!1,null,null,null),_=C.exports,y=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"notes"},[n("noteEditor"),n("div",{staticClass:"container"},t._l(t.notesGroupedBy3,function(e,o){return n("div",{key:o,staticClass:"row"},t._l(e,function(t,e){return n("note",{key:e,staticClass:"col l4",attrs:{note:t}})}),1)}),0)],1)},k=[],x=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"note"},[n("div",{staticClass:"row"},[n("div",{staticClass:"col offset-m3 m9"},[n("form",{staticClass:"container card-panel hoverable",on:{submit:function(e){return e.preventDefault(),t.addNote(e)}}},[n("div",{staticClass:"row"},[n("div",{staticClass:"col m12"},[n("input",{directives:[{name:"model",rawName:"v-model",value:t.note.title,expression:"note.title"}],attrs:{type:"text",placeholder:"title"},domProps:{value:t.note.title},on:{input:function(e){e.target.composing||t.$set(t.note,"title",e.target.value)}}})])]),n("div",{staticClass:"row"},[n("textarea",{directives:[{name:"model",rawName:"v-model",value:t.note.text,expression:"note.text"}],attrs:{name:"",id:"",cols:"",rows:"10"},domProps:{value:t.note.text},on:{input:function(e){e.target.composing||t.$set(t.note,"text",e.target.value)}}}),n("div",{staticClass:"row"},[n("button",{attrs:{disabled:t.blockButton}},[t._v("Add")])])])])])])])},N=[],I=n("bc3a"),L=n.n(I),U="https://moni-notes.herokuapp.com/",$=new o["default"]({data:{notes:[]},methods:{getIdToken:function(){return r.a.auth().currentUser.getIdToken(!0)},getAllNotes:function(){var t=this;0===this.notes.length?this.getIdToken().then(function(t){return L.a.get("/notes",{baseURL:U,headers:{"auth-token":t}})}).then(function(e){console.log("notes loaded"),console.log(e.data),t.notes=e.data,t.$emit("notesLoaded",t.notes)}).catch(function(t){return console.log(t)}):this.$emit("notesLoaded",this.notes)},reloadNotes:function(){this.notes=[],this.getAllNotes()},addNote:function(t){var e=this;this.getIdToken().then(function(e){return L.a.post("/notes",t,{baseURL:U,headers:{"auth-token":e}})}).then(function(t){e.reloadNotes(),e.$emit("noteSaved",t)}).catch(function(t){return console.log(t)})},deleteNote:function(t){var e=this;this.getIdToken().then(function(e){return L.a.delete("/notes/".concat(t),{baseURL:U,headers:{"auth-token":e}})}).then(function(){e.reloadNotes()}).catch(function(t){return console.log(t)})}}}),S=$,j={name:"noteEditor",props:["editNote"],data:function(){return{newNote:{title:"",text:""},blockButton:!1}},computed:{note:function(){return this.editNote||this.newNote}},methods:{addNote:function(){S.addNote({title:this.note.title,text:this.note.text}),this.blockButton=!0},onCreated:function(){this.note.title="",this.note.text="",this.blockButton=!1,alert("nota creada!!")}},beforeCreate:function(){var t=this;S.$on("noteSaved",function(){t.onCreated()})}},O=j,T=Object(u["a"])(O,x,N,!1,null,null,null),E=T.exports,A=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"card"},[n("div",{staticClass:"card-content grey lighten-4"},[n("div",{staticClass:"active"},[t._v(t._s(t.note.title))])]),n("div",{staticClass:"card-content"},[n("p",[t._v(t._s(t.note.text))]),n("i",{staticClass:"tiny material-icons edit-button",on:{click:t.editNote}},[t._v("create")]),n("i",{staticClass:"tiny material-icons delete-button",on:{click:t.deleteNote}},[t._v("delete")])])])])},P=[],B={name:"note",props:["note"],methods:{editNote:function(){},deleteNote:function(){S.deleteNote(this.note._id)}}},D=B,M=(n("f39b"),Object(u["a"])(D,A,P,!1,null,"1e8c9efe",null)),R=M.exports,F={name:"notes",data:function(){return{notes:[]}},computed:{notesGroupedBy3:function(){for(var t=[],e=this.notes.slice(),n=0;n<e.length;n+=3){var o=[e[n]];"undefined"!==typeof e[n+1]&&o.push(e[n+1]),"undefined"!==typeof e[n+2]&&o.push(e[n+2]),t.push(o)}return t}},components:{NoteEditor:E,Note:R},beforeCreate:function(){var t=this;S.$on("notesLoaded",function(e){t.notes=e}),S.getAllNotes()}},J=F,K=Object(u["a"])(J,y,k,!1,null,null,null),q=K.exports,z={name:"home",components:{Login:_,Notes:q},data:function(){return{isUserLoggedIn:!1}},beforeCreate:function(){var t=this;r.a.auth().onAuthStateChanged(function(e){t.isUserLoggedIn=!!e})}},G=z,W=Object(u["a"])(G,h,v,!1,null,null,null),Y=W.exports;o["default"].use(p["a"]);var H=new p["a"]({routes:[{path:"/",name:"home",component:Y}]}),Q=n("5f5b"),V=(n("4d5c"),n("8266"),n("59ca")),X=n.n(V),Z={apiKey:"AIzaSyDdAnYtK6pDEse-004HB-ouYFw7KJI8kcA",authDomain:"moni-notes.firebaseapp.com",databaseURL:"https://moni-notes.firebaseio.com",projectId:"moni-notes",storageBucket:"",messagingSenderId:"943548140369",appId:"1:943548140369:web:a0c467724304ac34"};X.a.initializeApp(Z);X.a;o["default"].use(Q["a"]),o["default"].config.productionTip=!1,new o["default"]({router:H,render:function(t){return t(f)}}).$mount("#app")},"5c0b":function(t,e,n){"use strict";var o=n("5e27"),s=n.n(o);s.a},"5e27":function(t,e,n){},"65fa":function(t,e,n){},f39b:function(t,e,n){"use strict";var o=n("65fa"),s=n.n(o);s.a}});
//# sourceMappingURL=app.88aafc73.js.map